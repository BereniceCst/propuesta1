/********************************************************
					RESPONSIVE REFERENCES

.col-xs-	.col-sm-	.col-md-	.col-lg-	.col-xl-
<544px		≥544px		≥768px		≥992px		≥1200px

$grid-breakpoints: (
  // Extra small screen / phone
  xs: 0,
  // Small screen / phone
  sm: 544px,
  // Medium screen / tablet
  md: 768px,
  // Large screen / desktop
  lg: 992px,
  // Extra large screen / wide desktop
  xl: 1200px
) !default;

*********************************************************/

@include media-breakpoint-up(lg) {
	.page-header {
		padding: 0 $grid-gutter-width-base/2;
	}
	#content {
		padding: $grid-gutter-width-base/2;

		.card.panel {
			margin-bottom: map-get($grid-gutter-widths, lg);
		}
	}
}

@include media-breakpoint-up(xl) {
	.page-header {
		padding: 0 $grid-gutter-width-base/2;
	}
	#content {
		padding: $grid-gutter-width-base/2;

		.card.panel {
			margin-bottom: map-get($grid-gutter-widths, xl);
		}
	}
}

@media only screen and ( max-width: $mobile-breakpoint-size ){

	html {
		font-size: 18px;
	}

	body {
		overflow-x: hidden;
	}	

	.page-wrapper {
		padding-left:0;
		background: $white;

		.page-header {
			padding:0 $grid-gutter-width-base/2;
			width:100%;

			background: #f1f1f1;
			border-bottom: 1px solid #e5e5e5;

			#hdr-l {
				> .search {
					#search-field {
						width:100%;
					}
				}
			}
		}

		.left-panel {
			z-index: $space + 1000;
			transition: $nav-hide-animate;
			@include translate3d (-$nav-width, 0, 0);

			position: fixed !important;

			.primary-nav {
				overflow: auto;
				overflow-x: hidden;
				-webkit-overflow-scrolling: touch;
				height: unquote("calc(100% - #{$header-height + $footer-height})");

				/*.slimScrollDiv {

					height: unquote("calc(100% - #{$header-height + $footer-height})") !important;

					.primary-nav {
						padding-bottom: 0;
					}
				}*/

				.nav-menu {
					/*> li {
						a {
							font-size: $fs-base + 1;
						}
					}*/

					.dl-ref {
						vertical-align: text-top;
					}
				}
			}
		}

		#content {
			padding:map-get($grid-gutter-widths, lg) $grid-gutter-width-base/2;
			color: #222;
			font-size: $fs-base + 1;
			line-height: 1.58;

			min-height: calc(100vh - #{$header-height + $footer-height});

			.breadcrumb > .breadcrumb-item {
				max-width: 80px;
			}

			.subheader {
				margin-bottom: $grid-gutter-width-base / 1.2;

				.subheader-title {
					//font-size: 22px;
					line-height: 32px;
					font-weight: 300;
					//margin-top: 10px;
					color: #22282d;

					small {
						font-size: 68%;
						letter-spacing: normal;
						margin-top: 5px;
						color: #181c21;
						//text-overflow: ellipsis;
						//white-space: nowrap;
						overflow: hidden;
						width: calc(100% - 30px);
						font-weight: 300;

					}
				}
			}

			.p-g {
				padding: map-get($grid-gutter-widths, xs);
			}
		}

		.page-footer {
			border-top: 1px solid rgba(0,0,0,0.02);
			background: #f7f7f7;
		}

	}

	.display-right-panel:not(.mobile-nav-on) {

		overflow: hidden;

		.page-header,
		#content,
		.page-footer {
			-webkit-filter: blur(2px);
			-moz-filter: blur(2px);
			-o-filter: blur(2px);
			-ms-filter: blur(2px);
			filter: blur(2px);
		}
	}


	&.header-function-fixed {

		.page-header {
			margin-left: 0;
			left: 0;
			position: fixed;
			right: 0;
			top: 0;
		    
		    transition: $nav-hide-animate;
		}

		.page-header,
		.logo {
			box-shadow: none !important;

		} 
		
		&:not(.nav-function-fixed) {

			.left-panel {
				.logo {
					position: absolute !important;
					top:0px !important;
				}
			}

		}

		#content {
			margin-top: $header-height;
		}
	}

	/* Push content */
	&.nav-mobile-push:not(.nav-mobile-slide-out) {

		.page-wrapper {
			.left-panel {
				@include translate3d (-$nav-width, 0, 0);
			}
			.page-header,
			#content,
			.page-footer,
			.page-footer-push {
				transition: $nav-hide-animate;
				//@include translate3d (0px, 0, 0);
			}		
		}
		
	}

	/* Off canvas */
	&.nav-mobile-slide-out {

		min-height: 100vh !important; /*new*/

		.page-wrapper {
			.left-panel {
				z-index: 0;
				transition:none;
				@include translate3d (0px, 0, 0);	
			}

			.page-header,
			#content,
			.page-footer,
			.page-footer-push {
                transition: $nav-hide-animate;
			    @include translate3d (0, 0, 0);        		      
			}

			#content {
				/* min-height: calc(100vh - #{$header-height + $footer-height});  no longer needed here */
				background: $page-bg;
			}
		}
	}

	/* mobile nav show & hide button */
	/* general */
	&.mobile-nav-on {

		touch-action: none;
		
		&.display-right-panel {

			.right-panel {
				transition: $nav-hide-animate;
				@include translate3d ($right-panel-width-mobile, 0, 0);
			}
		}

		overflow: hidden;
		height: 100vh;

		.left-panel {
			border-right:1px solid rgba(0,0,0,0.03);
			@include box-shadow( 0 3px 35px 3px rgba(0,0,0,0.52) );
		}

		#content:before {
			content:" ";
			position:fixed;
			z-index: $space;
			background:rgba(0,0,0,0);
			display: block;
			height: 100vh;
			width: 100vw;
			left: 0;
			top: 0;
		}
		
		&:not(.nav-mobile-push) {

			.left-panel {

		-webkit-transform: translate3d(0px, 0, 0) !important;
		    -ms-transform: translate3d(0px, 0, 0) !important;
		        transform: translate3d(0px, 0, 0) !important;

			}

			&.nav-function-fixed:not(.nav-function-top) {

				.left-panel {

		-webkit-transform: translate3d(0px, 0, 0) !important;
		    -ms-transform: translate3d(0px, 0, 0) !important;
		        transform: translate3d(0px, 0, 0) !important;

				}
			}
		}

		/* Push content */
		&.nav-mobile-push:not(.nav-mobile-slide-out) {

			.page-wrapper {

				.left-panel {
					left:0;
					@include translate3d (0px, 0, 0);
				}

				.page-header,
				#content,
				.page-footer,
				.page-footer-push {
					@include translate3d ($nav-width, 0, 0);
				}	

			}

		}

		/* Off canvas turned ON*/
		&.nav-mobile-slide-out {

			.page-wrapper {

				.page-header,
				#content,
				.page-footer,
				.page-footer-push {
					@include translate3d ($nav-width, 0, 0);
				}

				#content:before {
					background:transparent !important;
				}

				.page-header,
				#content,
				.page-footer,
				.page-footer-push {
					box-shadow: 0 9px 0px 0px $page-bg, 0 -9px 0px 0px $page-bg, 12px 0 15px -4px rgba(0, 0, 0, 0.32), -12px 0 15px -4px rgba(0, 0, 0, 0.32);       
				}				
				
			}
		}

		/* 'not' is ON by default */
		&:not(.nav-mobile-no-overlay) {

			.page-wrapper {

				#content:before {
					background:rgba(0,0,0,0.3);
				}

			}
		}

	}

}

@media only screen and ( max-width: map-get($grid-breakpoints, sm) ){

	/* here we turn on mobile font for smaller screens */
	/*body {
		font-family: $mobile-page-font !important;
	}*/

	/* mobile nav search */
	.mobile-search-on:not(.mobile-nav-on) {

		#hdr-l {
			display: flex;
			align-items: center;

			float:none !important;

			> li {
				display: inline-flex;

				&.search {
					flex: 1;

					.app-forms {
						display: block !important;
						position: relative !important;
						width: 100%;

						.btn-search-close {
							display: block !important;
							right:10px;
						}

						#search-field {
							border: 1px solid #d4d4d4;
							padding-left: 15px;

							&:focus {
								border-color: $primary-500;
							}
						}
					}
				}

				[data-class="mobile-nav-on"] {
					display: none !important;
				}
			}

		}

		#hdr-r {
			display: none;
		}

	}

	.page-header {

		ul.list-table {
			> li {
				> a:not(.btn)[data-toggle="dropdown"] + .dropdown-menu {
					width: calc(100% - #{$grid-gutter-width-base / 1.5}) !important;
					right: $grid-gutter-width-base / 3 !important;
				}
			}
		}
	}

	.page-header,
	#content {
		padding-left: $grid-gutter-width-base/3 !important;
		padding-right: $grid-gutter-width-base/3 !important;
	}

	.primary-nav .nav-menu li a > .badge {
		font-size: 10px !important;
	}

	.frame-wrap {
		padding: $p-2 $p-1;
	}
}
